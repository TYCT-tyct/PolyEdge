[Unit]
Description=PolyEdge app_runner
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
User=ubuntu
WorkingDirectory=/home/ubuntu/PolyEdge
Environment=RUST_LOG=info
# Optional feed toggles (defaults are enabled in code). We disable Chainlink anchor input on
# servers by default to avoid slow ticks impacting data validity and latency tails.
Environment=POLYEDGE_ENABLE_CHAINLINK_ANCHOR=false
# Run the built binary directly (faster restarts, avoids cargo spawning/port races).
ExecStart=/home/ubuntu/PolyEdge/target/release/app_runner
Restart=always
RestartSec=5
LimitNOFILE=1048576
StandardOutput=append:/var/log/polyedge/app_runner.log
StandardError=append:/var/log/polyedge/app_runner.err.log

[Install]
WantedBy=multi-user.target
